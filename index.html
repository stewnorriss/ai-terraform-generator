<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Flutter Terraform Generator</title>
    <link rel="stylesheet" href="styles.css?v=9.2">
</head>

<body>
    <div class="container">
        <header>
            <div class="header-logo">
                <div class="flutter-logo-text">
                    <span class="flutter-text">FLUTTER</span>
                    <span class="cee-text">CEE</span>
                </div>
                <div class="header-divider"></div>
                <h1>AI Terraform Generator</h1>
            </div>
            <p>Transform natural language into production-ready infrastructure code</p>
            <p class="powered-by">ğŸ¤– Powered by Advanced AI Pattern Recognition + Your AWS Account</p>
            <div id="awsStatus" class="aws-status">
                <span>ğŸ”„ Checking AWS connection...</span>
            </div>
        </header>

        <main>
            <div class="input-section">
                <label for="naturalLanguageInput" class="input-label">
                    ğŸ’¬ Describe Your Infrastructure
                </label>
                <textarea id="naturalLanguageInput" placeholder="Describe your infrastructure in plain English...

Examples:
â€¢ Create a scalable web application with load balancer and database
â€¢ Set up a secure data pipeline with Lambda and DynamoDB  
â€¢ Build a static website with global CDN distribution
â€¢ Deploy a microservices architecture with container orchestration" rows="6"></textarea>

                <div class="quick-templates">
                    <h4>âš¡ Quick Start Templates</h4>
                    <div class="template-buttons">
                        <button class="template-btn" onclick="useTemplate('static-website')">
                            <span>ğŸŒ Static Website</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('web-app')">
                            <span>ğŸ’» Web Application</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('database')">
                            <span>ğŸ—„ï¸ Database Setup</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('serverless')">
                            <span>âš¡ Serverless API</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('vpc-network')">
                            <span>ğŸ”’ VPC Network</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('load-balancer')">
                            <span>âš–ï¸ Load Balancer</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('container')">
                            <span>ğŸ“¦ Container App</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('data-pipeline')">
                            <span>ğŸ”„ Data Pipeline</span>
                        </button>
                    </div>
                </div>

                <div style="text-align: center;">
                    <button id="generateBtn" onclick="generateTerraform()">
                        <span>ğŸš€</span>
                        Generate Infrastructure Code
                    </button>
                </div>
            </div>

            <div class="output-section" id="outputSection" style="display: none;">
                <div class="explanation">
                    <h3>ğŸ“‹ Infrastructure Overview</h3>
                    <div id="explanation"></div>
                </div>

                <div class="terraform-code">
                    <h3>âš¡ Generated Infrastructure Code</h3>
                    <div id="terraformCode" class="code-block"></div>
                    <div class="code-actions">
                        <button id="copyBtn" onclick="copyToClipboard()">ğŸ“‹ Copy to Clipboard</button>
                        <button id="downloadBtn" onclick="downloadTerraform()">ğŸ’¾ Download main.tf</button>
                        <button id="docsBtn" onclick="toggleDocumentation()">ğŸ“š Show Documentation</button>
                    </div>
                </div>
            </div>

            <div class="documentation-section" id="documentationSection" style="display: none;">
                <div class="docs-container">
                    <div class="docs-header-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2xl);">
                        <h3 style="margin: 0;">ğŸ“š Complete Infrastructure Documentation</h3>
                        <div class="docs-export-buttons" style="display: flex; gap: var(--space-md);">
                            <button onclick="exportDocumentationAsPDF()" style="padding: var(--space-sm) var(--space-lg); background: linear-gradient(135deg, var(--flutter-red), var(--flutter-yellow)); color: white; border: none; border-radius: var(--radius-md); cursor: pointer; font-weight: 600; font-size: 0.875rem; transition: all 0.3s ease; display: flex; align-items: center; gap: var(--space-xs);">
                                <span>ğŸ“„</span> Export PDF
                            </button>
                            <button onclick="exportDocumentationAsMarkdown()" style="padding: var(--space-sm) var(--space-lg); background: linear-gradient(135deg, var(--flutter-blue), var(--flutter-purple)); color: white; border: none; border-radius: var(--radius-md); cursor: pointer; font-weight: 600; font-size: 0.875rem; transition: all 0.3s ease; display: flex; align-items: center; gap: var(--space-xs);">
                                <span>ğŸ“</span> Export Markdown
                            </button>
                            <button onclick="exportCompletePackage()" style="padding: var(--space-sm) var(--space-lg); background: linear-gradient(135deg, var(--flutter-green), var(--flutter-blue)); color: white; border: none; border-radius: var(--radius-md); cursor: pointer; font-weight: 600; font-size: 0.875rem; transition: all 0.3s ease; display: flex; align-items: center; gap: var(--space-xs);">
                                <span>ğŸ“¦</span> Export Package
                            </button>
                        </div>
                    </div>
                    <div id="documentationContent"></div>
                </div>
            </div>

            <div class="loading" id="loading" style="display: none;">
                <div class="spinner"></div>
                <p>ğŸ¤– AI is analyzing your requirements...</p>
            </div>
        </main>
    </div>

    <script src="script.js?v=9.2"></script>
    <script>
        // Initialize AWS connection check on page load
        document.addEventListener('DOMContentLoaded', function () {
            console.log('ğŸš€ Page loaded, initializing AWS check...');
            configureAWS();
        });
    </script>
</body>

</html>