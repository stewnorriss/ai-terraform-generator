<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Flutter Terraform Generator</title>
    <link rel="stylesheet" href="styles.css?v=27.0&t=1771594300">
    <meta name="cache-control" content="no-cache, no-store, must-revalidate, max-age=0">
    <meta name="expires" content="0">
    <meta name="pragma" content="no-cache">
</head>

<body>
    <div class="container">
        <header style="background: linear-gradient(135deg, rgba(22, 33, 91, 0.95) 0%, rgba(11, 17, 46, 0.95) 50%, rgba(2, 133, 255, 0.85) 100%); padding: 3rem 2rem; text-align: center;">
            <div class="header-logo" style="display: flex; align-items: center; justify-content: center; gap: 2rem; margin-bottom: 1.5rem;">
                <div class="flutter-cee-text" style="display: flex; align-items: baseline; gap: 0.5rem; font-family: 'Clash Display', 'Poppins', sans-serif; font-weight: 700;">
                    <span class="flutter-text" style="font-size: 2.5rem; color: white; text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3); letter-spacing: -0.02em;">Flutter</span>
                    <span class="cee-text" style="font-size: 1.5rem; color: #0285FF; font-weight: 800;">CEE</span>
                </div>
                <div class="header-divider" style="width: 2px; height: 50px; background: linear-gradient(180deg, transparent, rgba(255, 255, 255, 0.5), transparent);"></div>
                <h1 style="font-size: 2rem; font-weight: 600; margin: 0; color: white;">AI Terraform Generator</h1>
            </div>
            <p style="font-size: 1.0625rem; color: rgba(255, 255, 255, 0.9);">Transform natural language into production-ready infrastructure code</p>
            <p class="powered-by" style="font-size: 0.8125rem; color: rgba(255, 255, 255, 0.75); background: rgba(255, 255, 255, 0.08); padding: 0.5rem 1rem; border-radius: 0.375rem; display: inline-block; margin-top: 1rem;">ğŸ¤– Powered by Advanced AI Pattern Recognition + Your AWS Account</p>
            <div id="awsStatus" class="aws-status">
                <span>ğŸ”„ Checking AWS connection...</span>
            </div>
        </header>

        <main>
            <div class="input-section">
                <label for="naturalLanguageInput" class="input-label">
                    ğŸ’¬ Describe Your Infrastructure
                </label>
                <textarea id="naturalLanguageInput" placeholder="Describe your infrastructure in plain English...

Examples:
â€¢ Create a scalable web application with load balancer and database
â€¢ Set up a secure data pipeline with Lambda and DynamoDB  
â€¢ Build a static website with global CDN distribution
â€¢ Deploy a microservices architecture with container orchestration" rows="6"></textarea>

                <div class="quick-templates">
                    <h4>âš¡ Quick Start Templates</h4>
                    <div class="template-buttons">
                        <button class="template-btn" onclick="useTemplate('static-website')">
                            <span>ğŸŒ Static Website</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('web-app')">
                            <span>ğŸ’» Web Application</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('database')">
                            <span>ğŸ—„ï¸ Database Setup</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('serverless')">
                            <span>âš¡ Serverless API</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('vpc-network')">
                            <span>ğŸ”’ VPC Network</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('load-balancer')">
                            <span>âš–ï¸ Load Balancer</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('container')">
                            <span>ğŸ“¦ Container App</span>
                        </button>
                        <button class="template-btn" onclick="useTemplate('data-pipeline')">
                            <span>ğŸ”„ Data Pipeline</span>
                        </button>
                    </div>
                </div>

                <div style="text-align: center;">
                    <button id="generateBtn" onclick="generateTerraform()">
                        <span>ğŸš€</span>
                        Generate Infrastructure Code
                    </button>
                </div>
            </div>

            <div class="output-section" id="outputSection" style="display: none;">
                <div class="explanation">
                    <h3>ğŸ“‹ Infrastructure Overview</h3>
                    <div id="explanation"></div>
                </div>

                <div class="terraform-code">
                    <h3>âš¡ Generated Infrastructure Code</h3>
                    <div id="terraformCode" class="code-block"></div>
                    <div class="code-actions">
                        <button id="copyBtn" onclick="copyToClipboard()">ğŸ“‹ Copy to Clipboard</button>
                        <button id="downloadBtn" onclick="multiFileMode ? downloadAllFiles() : downloadTerraform()">ğŸ’¾ Download Files</button>
                        <button id="docsBtn" onclick="toggleDocumentation()">ğŸ“š Show Documentation</button>
                    </div>
                </div>
            </div>

            <div class="documentation-section" id="documentationSection" style="display: none;">
                <div class="docs-container">
                    <div class="docs-header-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-2xl);">
                        <h3 style="margin: 0;">ğŸ“š Complete Infrastructure Documentation</h3>
                        <div class="docs-export-buttons" style="display: flex; gap: var(--space-md);">
                            <button onclick="exportDocumentationAsPDF()" style="padding: var(--space-sm) var(--space-lg); background: linear-gradient(135deg, var(--flutter-red), var(--flutter-yellow)); color: white; border: none; border-radius: var(--radius-md); cursor: pointer; font-weight: 600; font-size: 0.875rem; transition: all 0.3s ease; display: flex; align-items: center; gap: var(--space-xs);">
                                <span>ğŸ“„</span> Export PDF
                            </button>
                            <button onclick="exportDocumentationAsMarkdown()" style="padding: var(--space-sm) var(--space-lg); background: linear-gradient(135deg, var(--flutter-blue), var(--flutter-purple)); color: white; border: none; border-radius: var(--radius-md); cursor: pointer; font-weight: 600; font-size: 0.875rem; transition: all 0.3s ease; display: flex; align-items: center; gap: var(--space-xs);">
                                <span>ğŸ“</span> Export Markdown
                            </button>
                            <button onclick="exportCompletePackage()" style="padding: var(--space-sm) var(--space-lg); background: linear-gradient(135deg, var(--flutter-green), var(--flutter-blue)); color: white; border: none; border-radius: var(--radius-md); cursor: pointer; font-weight: 600; font-size: 0.875rem; transition: all 0.3s ease; display: flex; align-items: center; gap: var(--space-xs);">
                                <span>ğŸ“¦</span> Export Package
                            </button>
                        </div>
                    </div>
                    <div id="documentationContent"></div>
                </div>
            </div>

            <div class="loading" id="loading" style="display: none;">
                <div class="spinner"></div>
                <p>ğŸ¤– AI is analyzing your requirements...</p>
            </div>
        </main>
    </div>

    <!-- Floating Toolbar -->
    <div class="toolbar">
        <button class="toolbar-btn shortcuts-btn" onclick="showKeyboardShortcuts()" title="Keyboard Shortcuts (Ctrl+?)">
            âŒ¨ï¸
        </button>
        <button class="toolbar-btn save-btn" onclick="saveProject()" title="Save Project (Ctrl+S)">
            ğŸ’¾
        </button>
        <button class="toolbar-btn" onclick="showLoadProjectDialog()" title="Load Project (Ctrl+O)">
            ğŸ“‚
        </button>
        <button class="toolbar-btn dark-mode-btn" onclick="toggleDarkMode()" title="Toggle Dark Mode (Ctrl+D)">
            ğŸŒ™
        </button>
        <button class="toolbar-btn" onclick="toggleMultiFileView()" title="Multi-File View (Ctrl+M)">
            ğŸ“„
        </button>
    </div>

    <script src="script.js?v=27.0&t=1771594300"></script>
    <script>
        // Initialize AWS connection check on page load
        document.addEventListener('DOMContentLoaded', function () {
            console.log('ğŸš€ Page loaded, initializing AWS check...');
            configureAWS();
        });
    </script>
</body>

</html>